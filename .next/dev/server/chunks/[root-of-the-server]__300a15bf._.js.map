{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 136, "column": 0}, "map": {"version":3,"sources":["file:///Users/george/projects/euromarket/src/app/api/contact/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server';\nimport nodemailer from 'nodemailer';\n\nexport async function POST(request: NextRequest) {\n  try {\n    const body = await request.json();\n    const { name, phone, email, subject, message } = body;\n\n    // Validate required fields\n    if (!name || !phone || !email || !message) {\n      return NextResponse.json(\n        { error: 'Missing required fields' },\n        { status: 400 }\n      );\n    }\n\n    // Create transporter with SMTP\n    const transporter = nodemailer.createTransport({\n      host: process.env.SMTP_HOST,\n      port: Number(process.env.SMTP_PORT) || 465,\n      secure: true,\n      auth: {\n        user: process.env.SMTP_USER,\n        pass: process.env.SMTP_PASS,\n      },\n    });\n\n    // Email content\n    const mailOptions = {\n      from: `\"Euromarket WWE\" <${process.env.SMTP_USER}>`,\n      to: process.env.CONTACT_EMAIL,\n      replyTo: email,\n      subject: `[Website] ${subject || `Mesaj de la ${name}`}`,\n      html: `\n<!DOCTYPE html>\n<html lang=\"ro\">\n<head>\n  <meta charset=\"utf-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n</head>\n<body style=\"margin: 0; padding: 0; background-color: #f0f4f8; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif; -webkit-font-smoothing: antialiased;\">\n  <table role=\"presentation\" width=\"100%\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\" style=\"background-color: #f0f4f8;\">\n    <tr>\n      <td align=\"center\" style=\"padding: 40px 20px;\">\n\n        <!-- Main Container -->\n        <table role=\"presentation\" width=\"100%\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\" style=\"max-width: 520px; background-color: #ffffff; border-radius: 16px; overflow: hidden; box-shadow: 0 10px 40px rgba(0, 102, 179, 0.12);\">\n\n          <!-- Header -->\n          <tr>\n            <td align=\"center\" style=\"background-color: #0066B3; padding: 32px 40px;\">\n              <table role=\"presentation\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\">\n                <tr>\n                  <td align=\"center\">\n                    <p style=\"margin: 0; font-size: 13px; color: rgba(255,255,255,0.7); text-transform: uppercase; letter-spacing: 2px;\">Formular de contact</p>\n                    <h1 style=\"margin: 8px 0 0 0; font-size: 22px; font-weight: 600; color: #ffffff;\">Mesaj nou primit</h1>\n                  </td>\n                </tr>\n              </table>\n            </td>\n          </tr>\n\n          <!-- Sender Info -->\n          <tr>\n            <td style=\"padding: 32px 40px 24px 40px;\">\n              <table role=\"presentation\" width=\"100%\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\">\n                <tr>\n                  <td align=\"center\" style=\"padding-bottom: 24px; border-bottom: 1px solid #e8edf2;\">\n                    <p style=\"margin: 0 0 4px 0; font-size: 12px; color: #8899a6; text-transform: uppercase; letter-spacing: 1px;\">De la</p>\n                    <p style=\"margin: 0; font-size: 20px; font-weight: 600; color: #1a2b3c;\">${name}</p>\n                  </td>\n                </tr>\n              </table>\n            </td>\n          </tr>\n\n          <!-- Contact Details -->\n          <tr>\n            <td style=\"padding: 0 40px 24px 40px;\">\n              <table role=\"presentation\" width=\"100%\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\" style=\"background-color: #f8fafc; border-radius: 12px;\">\n                <tr>\n                  <td style=\"padding: 20px 24px;\">\n                    <table role=\"presentation\" width=\"100%\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\">\n                      <!-- Phone Row -->\n                      <tr>\n                        <td width=\"80\" style=\"padding: 8px 0; font-size: 13px; color: #8899a6;\">Telefon</td>\n                        <td style=\"padding: 8px 0; font-size: 14px; color: #1a2b3c; font-weight: 500;\">\n                          <a href=\"tel:${phone}\" style=\"color: #0066B3; text-decoration: none;\">${phone}</a>\n                        </td>\n                      </tr>\n                      <!-- Email Row -->\n                      <tr>\n                        <td width=\"80\" style=\"padding: 8px 0; font-size: 13px; color: #8899a6;\">Email</td>\n                        <td style=\"padding: 8px 0; font-size: 14px; color: #1a2b3c; font-weight: 500;\">\n                          <a href=\"mailto:${email}\" style=\"color: #0066B3; text-decoration: none;\">${email}</a>\n                        </td>\n                      </tr>\n                      ${subject ? `\n                      <!-- Subject Row -->\n                      <tr>\n                        <td width=\"80\" style=\"padding: 8px 0; font-size: 13px; color: #8899a6;\">Subiect</td>\n                        <td style=\"padding: 8px 0; font-size: 14px; color: #1a2b3c; font-weight: 500;\">${subject}</td>\n                      </tr>\n                      ` : ''}\n                    </table>\n                  </td>\n                </tr>\n              </table>\n            </td>\n          </tr>\n\n          <!-- Message -->\n          <tr>\n            <td style=\"padding: 0 40px 32px 40px;\">\n              <p style=\"margin: 0 0 12px 0; font-size: 12px; color: #8899a6; text-transform: uppercase; letter-spacing: 1px;\">Mesaj</p>\n              <p style=\"margin: 0; font-size: 15px; line-height: 1.7; color: #2c3e50; text-align: justify;\">${message.replace(/\\n/g, '<br>')}</p>\n            </td>\n          </tr>\n\n          <!-- Reply Button -->\n          <tr>\n            <td align=\"center\" style=\"padding: 0 40px 36px 40px;\">\n              <a href=\"mailto:${email}?subject=Re: ${encodeURIComponent(subject || `Mesaj de la ${name}`)}\"\n                 style=\"display: inline-block; background-color: #0066B3; color: #ffffff; padding: 14px 40px; border-radius: 8px; text-decoration: none; font-weight: 600; font-size: 14px; box-shadow: 0 4px 14px rgba(0, 102, 179, 0.35);\">\n                Răspunde\n              </a>\n            </td>\n          </tr>\n\n          <!-- Footer -->\n          <tr>\n            <td align=\"center\" style=\"background-color: #f8fafc; padding: 20px 40px; border-top: 1px solid #e8edf2;\">\n              <p style=\"margin: 0; font-size: 12px; color: #8899a6;\">\n                Euromarket WWE &nbsp;·&nbsp; <a href=\"https://euromarket-ro.com\" style=\"color: #0066B3; text-decoration: none;\">euromarket-ro.com</a>\n              </p>\n            </td>\n          </tr>\n\n        </table>\n\n      </td>\n    </tr>\n  </table>\n</body>\n</html>\n      `,\n      text: `MESAJ NOU DIN FORMULARUL DE CONTACT\n━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\n\nDe la: ${name}\n\nTelefon:  ${phone}\nEmail:    ${email}${subject ? `\\nSubiect:  ${subject}` : ''}\n\nMESAJ\n─────\n${message}\n\n━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\nEuromarket WWE · euromarket-ro.com\n      `,\n    };\n\n    // Send email\n    await transporter.sendMail(mailOptions);\n\n    return NextResponse.json({ success: true });\n  } catch (error) {\n    console.error('Error sending email:', error);\n    return NextResponse.json(\n      { error: 'Failed to send email' },\n      { status: 500 }\n    );\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,eAAe,KAAK,OAAoB;IAC7C,IAAI;QACF,MAAM,OAAO,MAAM,QAAQ,IAAI;QAC/B,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,OAAO,EAAE,OAAO,EAAE,GAAG;QAEjD,2BAA2B;QAC3B,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,SAAS,CAAC,SAAS;YACzC,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;YAA0B,GACnC;gBAAE,QAAQ;YAAI;QAElB;QAEA,+BAA+B;QAC/B,MAAM,cAAc,4JAAU,CAAC,eAAe,CAAC;YAC7C,MAAM,QAAQ,GAAG,CAAC,SAAS;YAC3B,MAAM,OAAO,QAAQ,GAAG,CAAC,SAAS,KAAK;YACvC,QAAQ;YACR,MAAM;gBACJ,MAAM,QAAQ,GAAG,CAAC,SAAS;gBAC3B,MAAM,QAAQ,GAAG,CAAC,SAAS;YAC7B;QACF;QAEA,gBAAgB;QAChB,MAAM,cAAc;YAClB,MAAM,CAAC,kBAAkB,EAAE,QAAQ,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC;YACnD,IAAI,QAAQ,GAAG,CAAC,aAAa;YAC7B,SAAS;YACT,SAAS,CAAC,UAAU,EAAE,WAAW,CAAC,YAAY,EAAE,MAAM,EAAE;YACxD,MAAM,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;6FAoCgF,EAAE,KAAK;;;;;;;;;;;;;;;;;;uCAkB7D,EAAE,MAAM,iDAAiD,EAAE,MAAM;;;;;;;0CAO9D,EAAE,MAAM,iDAAiD,EAAE,MAAM;;;sBAGrF,EAAE,UAAU,CAAC;;;;uGAIoE,EAAE,QAAQ;;sBAE3F,CAAC,GAAG,GAAG;;;;;;;;;;;;4GAY+E,EAAE,QAAQ,OAAO,CAAC,OAAO,QAAQ;;;;;;;8BAO/G,EAAE,MAAM,aAAa,EAAE,mBAAmB,WAAW,CAAC,YAAY,EAAE,MAAM,EAAE;;;;;;;;;;;;;;;;;;;;;;;MAuBpG,CAAC;YACD,MAAM,CAAC;;;OAGN,EAAE,KAAK;;UAEJ,EAAE,MAAM;UACR,EAAE,QAAQ,UAAU,CAAC,YAAY,EAAE,SAAS,GAAG,GAAG;;;;AAI5D,EAAE,QAAQ;;;;MAIJ,CAAC;QACH;QAEA,aAAa;QACb,MAAM,YAAY,QAAQ,CAAC;QAE3B,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;QAAK;IAC3C,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,wBAAwB;QACtC,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAAuB,GAChC;YAAE,QAAQ;QAAI;IAElB;AACF"}}]
}